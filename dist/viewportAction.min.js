!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.viewportAction=t():e.viewportAction=t()}(self,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>c});let o;const n=new Set,i={wait:50,once:!1,document:window.document},a=e=>()=>{n.has(e)&&n.delete(e)},r=(e,t)=>"string"==typeof e?t.document.querySelector(e):e,l=(e,t,o,n,i)=>{let r=e.options,l=e.element.getBoundingClientRect(),d=l.height;if(l.top>=-1*d&&l.bottom<=n+d){const d=l.top<0?0:l.top,c=l.bottom>n?n:l.bottom,m=l.left<0?0:l.left,s=l.right>o?o:l.right,u=s-m,h=c-d,f=Object.freeze({availableTop:d,availableBottom:c,availableLeft:m,availableRight:s,availableWidth:s-m,availableHeight:c-d,availableArea:u*h,top:l.top,bottom:l.bottom,left:l.left,right:l.right,height:l.height,width:l.width});e.callback(((e,t,o,n)=>new class{constructor(e,t){this.originalEvent=e,this.detail=t.detail,this.target=t.target,this.removeHandler=t.removeHandler}get currentTarget(){return this.target}get srcElement(){return this.target}get timeStamp(){return this.originalEvent.timeStamp}}(t,{target:e,detail:o,removeHandler:n}))(e.element,i,f,a(e))),r.once&&t.delete(e)}},d=e=>{clearTimeout(o),o=setTimeout((()=>{let t,o=document.documentElement,i=o.clientWidth,a=o.clientHeight;for(t of n)l(t,n,i,a,e);n.size||(window.removeEventListener("resize",d,!1),window.removeEventListener("scroll",d,!1))}),100)},c=Object.create({whenDocumentReady:(e,t)=>{"complete"===(t=t&&9===t.nodeType?t:window.document).readyState?e(t.defaultView):t.addEventListener(window.cordova?"deviceready":"DOMContentLoaded",(o=>{e(t.defaultView,o)}),!1)},add:function(e,t,o={}){const a={...i,...o};this.whenDocumentReady(((o,i)=>{(e=r(e,o))instanceof Element&&e.ownerDocument===o.document&&(n.size||(o.addEventListener("resize",d,!1),o.addEventListener("scroll",d,!1)),n.add({element:e,callback:t,options:a}),d(i))}),a?a.document:null)},check:(e,t,o)=>{if(!((e=r(e,window))instanceof Element)||e.ownerDocument!==window.document)return void o();const n=document.documentElement;l({element:e,callback:t,options:{wait:0,once:!1}},new Set,n.clientWidth,n.clientHeight)}});return t.default})()));
//# sourceMappingURL=viewportAction.min.js.map